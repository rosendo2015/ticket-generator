<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Upload com Drag and Drop</title>
    <style>
        #drop-area {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            font-family: sans-serif;
            color: #666;
        }

        #drop-area.highlight {
            border-color: #6c6;
            background-color: #f0fff0;
        }

        #preview {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        #preview img {
            max-width: 150px;
            max-height: 150px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>

<body>

    <form id="upload-form">
        <div id="drop-area">
            <p>Arraste e solte imagens aqui ou clique para selecionar</p>
            <div id="preview"></div>
            <input type="file" id="fileElem" accept="image/*" style="display:none">
            <button type="button" onclick="fileElem.click()">Selecionar Imagens</button>
        </div>

        <button type="submit">Enviar</button>
    </form>

    <script>
        const dropArea = document.getElementById('drop-area');
        const fileElem = document.getElementById('fileElem');
        const preview = document.getElementById('preview');

        // Evita comportamento padrão
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, e => e.preventDefault());
            dropArea.addEventListener(eventName, e => e.stopPropagation());
        });

        // Destaque visual
        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => dropArea.classList.add('highlight'));
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => dropArea.classList.remove('highlight'));
        });

        // Drop de arquivos
        dropArea.addEventListener('drop', e => {
            const files = e.dataTransfer.files;
            handleFiles(files);
        });

        // Seleção manual
        fileElem.addEventListener('change', e => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            [...files].forEach(previewFile);
        }

        function previewFile(file) {
            if (!file.type.startsWith('image/')) return;

            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onloadend = () => {
                const img = document.createElement('img');
                img.src = reader.result;
                preview.appendChild(img);
            };
        }

        // Envio do formulário
        document.getElementById('upload-form').addEventListener('submit', e => {
            e.preventDefault();
            alert('Formulário enviado! Aqui você pode adicionar o código para enviar os arquivos.');
        });
    </script>

</body>

</html>